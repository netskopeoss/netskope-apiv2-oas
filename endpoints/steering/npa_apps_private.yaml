components:
  schemas:
    private_apps_list_response:
      items:
        properties:
          data:
            properties:
              allow_unauthenticated_cors:
                type: boolean
                example: false
              allow_uri_bypass:
                type: boolean
              uribypass_header_value:
                type: string
              bypass_uris:
                items:
                  type: string
                type: array
              app_id:
                format: int32
                type: integer
              app_name:
                x-speakeasy-terraform-ignore: true
                type: string
              app_option:
                type: object
              clientless_access:
                type: boolean
              host:
                type: string
              is_user_portal_app:
                type: boolean
              protocols:
                type: array
                items:
                  $ref: "#/components/schemas/protocol_response_item"
              real_host:
                type: string
              service_publisher_assignments:
                items:
                  $ref: "#/components/schemas/service_publisher_assignment_item"
                type: array
              tags:
                items:
                  $ref: "#/components/schemas/tag_item"
                type: array
              trust_self_signed_certs:
                type: boolean
              use_publisher_dns:
                type: boolean
            type: object
          status:
            enum:
              - success
              - not found
            type: string
          total:
            format: int32
            type: integer
        type: object
      type: array
    private_apps_put_request:
      type: object
      x-speakeasy-entity: NPAPrivateApp
      properties:
        allow_unauthenticated_cors:
          type: boolean
          example: false
        allow_uri_bypass:
          x-speakeasy-ignore: true
          type: boolean
        uribypass_header_value:
          x-speakeasy-ignore: true 
          type: string
        bypass_uris:
          x-speakeasy-ignore: true
          items:
            type: string
          type: array
#### Removing app_name from patch/put request documentation as its immutable          
#        app_name:
#          type: string
        app_option:
          type: object
        clientless_access:
          type: boolean
          example: false
        host:
          x-speakeasy-name-override: private_app_hostname
          type: string
        id:
          x-speakeasy-ignore: true
          format: int32
          type: integer
          example: 3
        is_user_portal_app:
          type: boolean
          example: false
        protocols:
          items:
            $ref: "#/components/schemas/protocol_item"
          type: array
        publisher_tags:
          x-speakeasy-terraform-ignore: true
          items:
            $ref: "#/components/schemas/tag_item_no_id"
          type: array
        publishers:
          items:
            $ref: "#/components/schemas/publisher_item"
          type: array
        tags:
          items:
            $ref: "#/components/schemas/tag_item_no_id"
          type: array
        real_host: 
          type: string
          example: ""
        trust_self_signed_certs:
          type: boolean
          example: true
        use_publisher_dns:
          type: boolean
          example: false
    private_apps_request:
      type: object
      x-speakeasy-entity: NPAPrivateApp
      required:
        - app_name
        - host
        - protocols
        - publishers
      properties:
        allow_unauthenticated_cors:
          type: boolean
          example: false
        allow_uri_bypass:
          x-speakeasy-ignore: true
          type: boolean
        uribypass_header_value:
          x-speakeasy-ignore: true
          type: string
        bypass_uris:
          x-speakeasy-ignore: true
          items:
            type: string
          type: array
        app_name:
          type: string
        app_option:
          type: object
        clientless_access:
          type: boolean
          example: false
        private_app_protocol:
          type: string
          example: http
          enum:
            - http
            - https
        host:
          x-speakeasy-name-override: private_app_hostname
          type: string
          example: webserver.local
        is_user_portal_app:
          type: boolean
          example: false
        protocols:
          type: array
          example: [
            {
              port: 80,
              type: tcp
            }
          ]
          items:
            type: object
            required:
              - port
              - type
            properties:
              port: 
                type: string
                example: 80
              type:
                x-speakeasy-name-override: protocol
                type: string
                example: tcp
        publisher_tags:
          description: Not currently supported, please do not use.
          x-speakeasy-ignore: true
          items:
            $ref: "#/components/schemas/tag_item_no_id"
          type: array
        publishers:
          type: array
          example: [
            {
              publisher_id: 10,
              publisher_name: webservers
            }
          ]
          items: 
            type: object
            required:
              - publisher_id
              - publisher_name
            properties:
              publisher_id:
                type: string
                example: 10
              publisher_name:
                type: string
                example: webservers 
        real_host:
          type: string
          example: ""
        tags:
          type: array
          example: [
            {
              tag_name: tag01
            }
          ]
          items:
            type: object
            required:
              - tag_name
            properties:
              tag_name: 
                type: string
                example: tag01
        trust_self_signed_certs:
          type: boolean
          example: true
        use_publisher_dns:
          type: boolean
          example: false
    private_apps_response:
      properties:
        data:
          x-speakeasy-entity: NPAPrivateApp
          type: object
          properties:
            allow_unauthenticated_cors:
              type: boolean
              example: false
            app_id:
              x-speakeasy-terraform-ignore: true
              type: integer
              format: int32
              example: 1
            app_name:
              type: string
              example: "webserver"
            app_option:
              type: object
            clientless_access:
              type: boolean
              example: false
            host:
              x-speakeasy-name-override: private_app_hostname 
              type: string
              example: "webserver.local"
            id: 
              x-speakeasy-name-override: private_app_id
              type: integer
              format: int32
              example: 1
            is_user_portal_app:
              type: boolean
              example: false
            modified_by:
              type: string
              example: apigw
            modify_time:
              type: string
              example: 2024-07-26 18:11:06
            name:
              x-speakeasy-name-override: private_app_name
              type: string
              example: "[webserver]"
            policies:
              type: array
              example:
                - Allow_WebServers
              items:
                type: string
                example: Allow_WebServers
            private_app_protocol:
              type: string
              example: http
            protocols:
              type: array
              items:
                $ref: "#/components/schemas/protocol_response_item"
            public_host:
              type: string
              example: "https://webserver-local-80-tenant.npaproxy.goskope.com"
            reachability:
              type: object
              properties:
                reachable:
                  type: boolean
                  example: true
            real_host:
              type: string
              example: ""
            service_publisher_assignments:
              items:
                $ref: "#/components/schemas/service_publisher_assignment_item"
            steering_configs:
              type: array
              items:
                type: string
                example: Default tenant config
            supplement_dns_for_osx:
              type: boolean
              example: false
            tags:
              items:
                $ref: "#/components/schemas/tag_item"
            trust_self_signed_certs:
              type: boolean
              example: true 
            use_publisher_dns:
              type: boolean
              example: false
        status:
          x-speakeasy-ignore: true
          enum:
            - success
            - not found
          type: string
    private_apps_response_400:
      properties:
        result:
          type: string
        status:
          example: 400
          type: integer
      type: object
    protocol_item:
      properties:
        port:
          type: string
          example: 80
        type:
          x-speakeasy-name-override: protocol
          type: string
          example: tcp
      type: object
    protocol_response_item:
      type: object
      properties:
        created_at:
          type: string
          example: 2024-07-26T18:11:06.809Z
        id:
          format: int32
          type: integer
          example: 108
        port:
          type: string
          example: 80
        service_id:
          format: int32
          type: integer
          example: 67
        transport:
          x-speakeasy-name-override: protocol
          type: string
          example: tcp
        updated_at:
          type: string
          example: 2024-07-26T18:11:06.809Z
    publisher_item:
      type: object
      properties:
        publisher_id:
          type: string
        publisher_name:
          type: string
    service_publisher_assignment_item:
      type: object
      properties:
        primary:
          type: boolean
          example: false
        publisher_id:
          format: int32
          type: integer
          example: 1
        publisher_name:
          type: string
          example: pub1.local
        reachability:
          type: object
          properties:
            error_code:
              format: int32
              type: integer
              example: 0
            error_string:
              type: string
              example: ""
            reachable:
              type: boolean
              example: true 
        service_id:
          x-speakeasy-name-override: private_app_id
          format: int32
          type: integer
          example: 1
    tag_item:
      properties:
        tag_id:
          format: int32
          type: integer
          example: 1
        tag_name:
          type: string
          example: tag01
      type: object
    tag_item_no_id:
      properties:
        tag_name:
          type: string
          example: tag01
      type: object
info:
  description: NPA private apps CRUD operations.
  title: npa_private_apps
  version: 1.0.0
openapi: 3.0.0
paths:
  /steering/apps/private:
    get:
      operationId: listNPAPrivateApps
      x-speakeasy-entity-operation: NPAPrivateAppsList#read
      description: |
        NPA Private Applications are the resources that are published by the NPA Publishers. 
        It is a crucial component of Netskope’s Private Access (NPA) solution, which provides 
        zero-trust network access (ZTNA) to private applications and data in hybrid IT environments.

        This endpoint supports listing all NPA Private Applications.
      parameters:
        - description: |
            Fields you wish to return as part of the API response.
          in: query
          name: fields
          example: app_id,app_name
          x-speakeasy-ignore: true
          required: false
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_list_response"
          description: successful operation
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response_400"
          description: Invalid request
      summary: Get list of private applications
    post:
      operationId: createNPAPrivateApps
      x-speakeasy-entity-operation: NPAPrivateApp#create
      x-speakeasy-group: NPAPrivateApp
      description: |
        NPA Private Applications are the resources that are published by the NPA Publishers. 
        It is a crucial component of Netskope’s Private Access (NPA) solution, which provides 
        zero-trust network access (ZTNA) to private applications and data in hybrid IT environments.

        This endpoint supports creation of a NPA Private Application.

        Features may require additional licensing, please work with account team to enable.

        Please see *examples* of required attributes based on the type of Application you are creating.
      parameters:
        - description: flag to skip output except status code
          in: query
          name: silent
          x-speakeasy-ignore: true
          required: false
          schema:
            enum:
              - "1"
              - "0"
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/private_apps_request"
            examples:
              minimum_client_app:
                description: |
                  This example defines the minimum requirements to support a private application.
                value:
                  app_name: my_private_app
                  host: webserver.local
                  protocols: [
                    {
                      port: 80,
                      type: tcp
                    }
                  ]
                  publishers: [
                    {
                      publisher_id: 10,
                      publisher_name: my_publisher_1
                    }
                  ]
              minimum_clientless_app:
                description: |
                  This example defines the minimum requirements to support a Browser Access Application.\

                  *Note:* When clientless_access = true, private_app_protocal is required! 

                  This feature may require additional licensing, please work with account team to enable. 
                value:
                  app_name: my_private_app
                  host: webserver.local
                  clientless_access: true 
                  private_app_protocol: http
                  protocols: [
                    {
                      port: 80,
                      type: tcp
                    }
                  ]
                  publishers: [
                    {
                      publisher_id: 10,
                      publisher_name: my_publisher_1
                    }
                  ]
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response"
          description: successful operation
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response_400"
          description: Invalid request
      summary: Create a private application
    x-netskope-params:
      apiGroup: npa_apps_private
      customerFacing: true
      rateLimit:
        readRoutes:
          hour: 1000
          second: 30
        writeRoutes:
          hour: 1000
          second: 30
      serviceConfig: provisioner-pycore-ws
      version: 2
  /steering/apps/private/getpolicyinuse:
    post:
      operationId: getNPAPolicyInUse
      x-speakeasy-entity-operation: NPAPrivatePolicyInUse#read
      description: Retrieve number of policy in use for specified private apps
      requestBody:
        content:
          application/json:
            schema:
              properties:
                ids:
                  items:
                    type: string
                  type: array
              type: object
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  properties:
                    data:
                      properties:
                        token:
                          type: string
                      type: object
                    status:
                      enum:
                        - success
                        - not found
                      type: string
                  type: object
                type: array
          description: successful operation
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response_400"
          description: Invalid request
      summary: Retrieve number of policy in use for specified private apps
    x-netskope-params:
      apiGroup: npa_apps_private
      customerFacing: true
      rateLimit:
        readRoutes:
          hour: 1000
          second: 30
        writeRoutes:
          hour: 1000
          second: 30
      serviceConfig: provisioner-pycore-ws
      version: 2
  /steering/apps/private/{private_app_id}:
    delete:
      operationId: deleteNPAPrivateApp
      x-speakeasy-entity-operation: NPAPrivateApp#delete
      description: Delete a private application based on private app id
      parameters:
        - description: private apps id
          in: path
          name: private_app_id
          required: true
          schema:
            format: int32
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  status:
                    enum:
                      - success
                      - error
                    type: string
                type: object
          description: successful operation
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response_400"
          description: Invalid request
      summary: Delete a private application
    get:
      operationId: getNPAPrivateApp
      x-speakeasy-entity-operation: NPAPrivateApp#read
      description: Get a private application based on private app id
      parameters:
        - description: private apps id
          in: path
          name: private_app_id
          required: true
          schema:
            format: int32
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response"
          description: successful operation
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response_400"
          description: Invalid request
      summary: Get a private application
    patch:
      operationId: updateNPAPrivateApp
      x-speakeasy-entity-operation: NPAPrivateApp#update
      x-speakeasy-group: NPAPrivateApp
      description: Patch a private application based on private app id
      parameters:
        - description: private apps id
          in: path
          name: private_app_id
          required: true
          schema:
            format: int32
            type: integer
        - description: flag to skip output except status code
          in: query
          name: silent
          x-speakeasy-ignore: true
          required: false
          schema:
            enum:
              - "1"
              - "0"
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/private_apps_put_request"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response"
          description: successful operation
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response_400"
          description: Invalid request
      summary: Patch a private application
    put:
      operationId: replaceNPAPrivateApp
      x-speakeasy-ignore: true
      description: Update a private application based on private app id
      parameters:
        - description: private apps id
          in: path
          name: private_app_id
          required: true
          schema:
            format: int32
            type: integer
        - description: flag to skip output except status code
          in: query
          name: silent
          required: false
          schema:
            enum:
              - "1"
              - "0"
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/private_apps_put_request"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response"
          description: successful operation
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/private_apps_response_400"
          description: Invalid request
      summary: Update a private application
    x-netskope-params:
      apiGroup: npa_apps_private
      customerFacing: true
      rateLimit:
        readRoutes:
          hour: 1000
          second: 30
        writeRoutes:
          hour: 1000
          second: 30
      serviceConfig: provisioner-pycore-ws
      version: 2
