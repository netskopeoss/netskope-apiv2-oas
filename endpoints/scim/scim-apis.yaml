info:
  contact:
    email: eng-provisioner-dev-blr@netskope.com
    name: Provisioner
  description:
    "<details><summary>API to provision users and groups to the tenant.</summary>\n\
    # Introduction\nAPI to provision users and groups to the tenant.\n\nSCIM specification\
    \ is defined in [RFC-7644](https://www.rfc-editor.org/rfc/rfc7644.html).\n\nNetskope\
    \ SCIM Server supports subset of the APIs listed bellow.\n# Supported Resources\n\
    ## User\nSchema is mention in the [RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)\n\
    \nFollowing attrbute is supported.\n| Attribute | Schema | Description |\n|- \
    \         |-      |-            |\n|*`emails`   | [RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)#`core:2.0:User`\
    \ | Multivalued attribute. How ever **Scim server only supports primary email,\
    \ and ignores the other values**.<br>**Request will be rejected if primary email\
    \ is not specified.**|\n|*`userName`|[RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)#`core:2.0:User`|unique\
    \ userName of the user.**Request will be rejected if primary email is not specified.**|\n\
    | `externalId`|[RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)#`core:2.0:User`|This\
    \ is a common attribute of type string.|\n| `active`|[RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)#`core:2.0:User`|Boolean\
    \ value to enable disable the user.|\n| `name`|[RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)#`core:2.0:User`|Supports\
    \ only `givenName` and `familyName`|\n-------------------------------\n\n\n**Endpoints**\
    \ \n  \n* `/Users` : Create or retrive the users in the tenant.\n\n  <b> Supported\
    \ methods.</b>\n  | Method Type   | CRUD      | Description   |\n  |-        \
    \      |-          |-              |\n  | `GET`           | Read      | Retrieve\
    \ user (eg: get all the users of tenant.)   |\n  | `POST`          | Create  \
    \  | Create a new record (eg: adding new user to the tenant.)   |\n  --------------------------------\n\
    \n\n* `/Users/{id}` : Mofify, delete or retrive a user.\n\n  <b> Supported methods.</b>\n\
    \  | Method Type   | CRUD      | Description   |\n  |-              |-       \
    \   |-              |\n  | `GET`           | Read      | Retrieve user (eg: retrive\
    \ the users of {id}.)   |\n  | `PUT`           | Replace   | Replacing an existing\
    \ record (eg: replace the user of {id}) |\n  | `PATCH`         | Update    | Updating\
    \ an existing record (eg: updating the record of {id})<br>`emails`,`active`, `name`,\
    \ `userName`, `externalId` attributes can be edited   |\n  | `DELETE`        |\
    \ Delete    | DELETE requests can be used to delete a record (like deleting a\
    \ MSP from the Master MSP) |\n  --------------------------------\n  \n\n\n## Group\n\
    Schema is mention in the [RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)\n\
    \nFollowing attrbute is supported.\n| Attribute | Schema | Description |\n|- \
    \         |-      |-            |\n|*`displayName`   | [RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)#`core:2.0:Group`\
    \ | String attribute represent the group.<br>**Request will be rejected if primary\
    \ email is not specified.**|\n|`members`|[RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)#`core:2.0:Group`|Multivalued\
    \ attribute, list of members.|\n| `externalId`|[RFC-7643](https://datatracker.ietf.org/doc/rfc7643/)#`core:2.0:Group`|This\
    \ is a common attribute of type string.|\n\n**Supported Endpoints**\n\n  \n* `/Groups`\
    \ : Create or retrive the users in the tenant.\n\n  <b> Supported methods.</b>\n\
    \  | Method Type   | CRUD      | Description   |\n  |-              |-       \
    \   |-              |\n  | `GET`           | Read      | Retrieve groups (eg:\
    \ get all the groups of tenant.)   |\n  | `POST`          | Create    | Create\
    \ a new record (eg: adding new group to the tenant.)   |\n  --------------------------------\n\
    \n\n* `/Groups/{id}` : Mofify, delete or retrive a user.\n\n  <b> Supported methods.</b>\n\
    \  | Method Type   | CRUD      | Description   |\n  |-              |-       \
    \   |-              |\n  | `GET`           | Read      | Retrieve the group (eg:\
    \ get the group of {id}.)   |\n  | `PUT`           | Replace   | Replacing an\
    \ existing record (eg: Replacing the group    |\n  | `PATCH`         | Update\
    \    | Updating an existing record (eg: adding a member to the group of {id})<br>`members`,`displayName`,\
    \ `externalId` attributes can be edited |\n  | `DELETE`        | Delete    | Delete\
    \ a record (like deleting a group of {id}) |\n  --------------------------------\n\
    # Configuration``WIP``\n\n\n**Supported Endpoints**\n# Authentication``WIP``\n\
    </details>"
  title: Netskope SCIM Server endpoints
  version: 2.0.0
openapi: 3.0.0
paths:
  /scim/Groups:
    get:
      description: Query for all the SCIM groups or filtered groups.
      parameters:
        - description:
            'key eq value pair like - displayName/externalId and pass the
            value to be searched for the key passed.  Example: displayName eq "sample_Group1"  '
          in: query
          name: filter
          required: false
          schema:
            type: string
        - in: query
          name: startIndex
          required: false
          schema:
            description: StartIndex & count should be passed together
            type: integer
        - in: query
          name: count
          required: false
          schema:
            description: StartIndex & count should be passed together
            type: integer
      responses:
        "200":
          content:
            application/scim+json;charset=utf-8:
              schema:
                properties:
                  Resources:
                    items:
                      properties:
                        displayName:
                          description: Display name for group.
                          example: sample_group1
                          type: string
                        externalId:
                          description: Optional - Scim External ID
                          example: Group-Ext_id
                          type: string
                        id:
                          description: SCIM Group ID
                          example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                          type: string
                      type: object
                    type: array
                  itemsPerPage:
                    example: 1
                    type: integer
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:ListResponse
                    items:
                      type: string
                    type: array
                  startIndex:
                    example: 1
                    type: integer
                  totalResults:
                    example: 1
                    type: integer
                type: object
          description: Successfull.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example: Invalid request
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Get SCIM Groups
      tags:
        - scim_groups
    post:
      description: Create new SCIM Group
      requestBody:
        content:
          application/scim+json;charset=utf-8:
            schema:
              description: Group object
              properties:
                displayName:
                  description: Display name for group.
                  example: sample_group1
                  type: string
                externalId:
                  description: Optional - Scim External ID
                  example: Group-Ext_id
                  type: string
                members:
                  items:
                    properties:
                      value:
                        example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                        type: string
                    type: object
                  type: array
                meta:
                  description: meta information
                  example:
                    resourceType: Group
                  properties:
                    resourceType:
                      description: resource type User/Group.
                      example: Group
                      type: string
                  type: object
                schemas:
                  description: schema of the resource
                  example:
                    - urn:ietf:params:scim:schemas:core:2.0:Group
                  items:
                    enum:
                      - urn:ietf:params:scim:schemas:core:2.0:Group
                    type: string
                  type: array
              type: object
        description: group to add
      responses:
        "201":
          content:
            application/scim+json;charset=utf-8:
              schema:
                properties:
                  displayName:
                    description: Display name for group.
                    example: sample_group1
                    type: string
                  externalId:
                    description: Optional - Scim External ID
                    example: Group-Ext_id
                    type: string
                  id:
                    description: SCIM Group ID
                    example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                    type: string
                  members:
                    items:
                      properties:
                        value:
                          example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                          type: string
                      type: object
                    type: array
                  meta:
                    description: meta information
                    example:
                      resourceType: Group
                    properties:
                      resourceType:
                        description: resource type Group.
                        example: Group
                        type: string
                    type: object
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:schemas:core:2.0:Group
                    items:
                      enum:
                        - urn:ietf:params:scim:schemas:core:2.0:Group
                      type: string
                    type: array
                  status:
                    enum:
                      - 201
                      - 200
                    example: 201
                    type: integer
                type: object
          description: Successfully added the User.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example: Invalid request, Mandatory fields are missing
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal server error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Create new SCIM Group
      tags:
        - scim_groups
    x-netskope-params:
      apiGroup: scim-apis
      customerFacing: true
      serviceConfig: nsscimserver
      version: 2
  /scim/Groups/{id}:
    delete:
      description: Delete SCIM Group record by {id}
      parameters:
        - description: SCIM Group ID required
          in: path
          name: id
          required: true
          schema:
            example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
            type: string
      responses:
        "204":
          description: Empty response, Successfully deleted Group
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example: Invalid request
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Delete SCIM Group record by {id}
      tags:
        - scim_groups
    get:
      description: Get SCIM Group by {id}
      parameters:
        - in: query
          name: attributes
          required: false
          schema:
            description: optional attributes to be included in the response.
            type: string
        - in: query
          name: excludedAttributes
          required: false
          schema:
            description: optional attributes to be excluded from the response.
            type: string
        - description: SCIM Group ID required.
          in: path
          name: id
          required: true
          schema:
            example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
            type: string
      responses:
        "200":
          content:
            application/scim+json;charset=utf-8:
              schema:
                properties:
                  displayName:
                    description: Display name for group.
                    example: sample_group1
                    type: string
                  externalId:
                    description: Optional - Scim External ID
                    example: Group-Ext_id
                    type: string
                  id:
                    description: SCIM Group ID
                    example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                    type: string
                  members:
                    items:
                      properties:
                        value:
                          example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                          type: string
                      type: object
                    type: array
                  meta:
                    description: meta information
                    example:
                      resourceType: Group
                    properties:
                      resourceType:
                        description: resource type User/Group.
                        example: Group
                        type: string
                    type: object
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:schemas:core:2.0:Group
                    items:
                      enum:
                        - urn:ietf:params:scim:schemas:core:2.0:Group
                      type: string
                    type: array
                type: object
          description: Successfully deleted the User.
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Get SCIM Group by {id}
      tags:
        - scim_groups
    patch:
      description: Updating attribute in existing group with the id.
      parameters:
        - description: SCIM Used ID should be specified
          in: path
          name: id
          required: true
          schema:
            example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
            type: string
      requestBody:
        content:
          application/scim+json;charset=utf-8:
            schema:
              description: group request body
              properties:
                Operations:
                  items:
                    properties:
                      op:
                        enum:
                          - add
                          - remove
                          - replace
                        example: add
                        type: string
                      path:
                        enum:
                          - members
                          - externalid
                          - displayname
                        example: members
                        type: string
                      value:
                        description: value either string or object
                        example:
                          value:
                            value: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                        oneOf:
                          - type: string
                          - type: object
                    type: object
                  type: array
                schemas:
                  description: schema of the resource
                  example:
                    - urn:ietf:params:scim:api:messages:2.0:PatchOp
                  items:
                    enum:
                      - urn:ietf:params:scim:api:messages:2.0:PatchOp
                    type: string
                  type: array
              type: object
        description: attributed to be added.
      responses:
        "204":
          description: Empty response.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example:
                      Invalid request / Primary Email not provided / UserName
                      not provided / Not a valid json format / Mandatory fields are
                      missing
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Update existing SCIM Group record by {id}.
      tags:
        - scim_groups
    put:
      description: Replace existing SCIM Group for {id}
      parameters:
        - description: SCIM Used ID should be specified
          in: path
          name: id
          required: true
          schema:
            example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
            type: string
      requestBody:
        content:
          application/scim+json;charset=utf-8:
            schema:
              description: User object
              properties:
                displayName:
                  description: Display name for group.
                  example: sample_group1
                  type: string
                externalId:
                  description: Optional - Scim External ID
                  example: Group-Ext_id
                  type: string
                members:
                  items:
                    properties:
                      value:
                        example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                        type: string
                    type: object
                  type: array
                meta:
                  description: meta information
                  example:
                    resourceType: Group
                  properties:
                    resourceType:
                      description: resource type Group.
                      example: Group
                      type: string
                  type: object
                schemas:
                  description: schema of the resource
                  example:
                    - urn:ietf:params:scim:schemas:core:2.0:Group
                  items:
                    enum:
                      - urn:ietf:params:scim:schemas:core:2.0:Group
                    type: string
                  type: array
              type: object
        description: group to update
      responses:
        "200":
          content:
            application/scim+json;charset=utf-8:
              schema:
                properties:
                  displayName:
                    description: Display name for group.
                    example: sample_group1
                    type: string
                  externalId:
                    description: Optional - Scim External ID
                    example: Group-Ext_id
                    type: string
                  id:
                    description: SCIM Group ID
                    example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                    type: string
                  members:
                    items:
                      properties:
                        value:
                          example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                          type: string
                      type: object
                    type: array
                  meta:
                    description: meta information
                    example:
                      resourceType: Group
                    properties:
                      resourceType:
                        description: resource type User/Group.
                        example: Group
                        type: string
                    type: object
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:schemas:core:2.0:Group
                    items:
                      enum:
                        - urn:ietf:params:scim:schemas:core:2.0:Group
                      type: string
                    type: array
                  status:
                    enum:
                      - 201
                      - 200
                    example: 201
                    type: integer
                type: object
          description: Successfully updated the User.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example: Invalid request.
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Replace existing SCIM Group for {id}
      tags:
        - scim_groups
    x-netskope-params:
      apiGroup: scim-apis
      customerFacing: true
      serviceConfig: nsscimserver
      version: 2
  /scim/Users:
    get:
      description: Query for all the SCIM Users or filtered users.
      parameters:
        - description:
            'key eq value pair like userName(Nothing but UPN), externalId(scim_externalid)
            and pass the value to be searched for the key passed.  Example: userName
            eq "upn1" OR externalId eq "User-Ext_id" '
          in: query
          name: filter
          required: false
          schema:
            type: string
        - in: query
          name: startIndex
          required: false
          schema:
            description: StartIndex & count should be passed together
            type: integer
        - in: query
          name: count
          required: false
          schema:
            description: StartIndex & count should be passed together
            type: integer
      responses:
        "200":
          content:
            application/scim+json;charset=utf-8:
              schema:
                properties:
                  Resources:
                    items:
                      properties:
                        active:
                          example: "true"
                          type: boolean
                        emails:
                          items:
                            properties:
                              primary:
                                example: "true"
                                type: boolean
                              value:
                                description: Email ID of the SCIM user
                                example: email1@netskope.local
                                pattern: ^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$
                                type: string
                            type: object
                          type: array
                        externalId:
                          description: Optional - Scim External ID
                          example: User-Ext_id
                          type: string
                        id:
                          description: SCIM User ID
                          example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                          type: string
                        name:
                          description: Family_name and given_name for the User
                          properties:
                            familyName:
                              description: last_name of the SCIM User.
                              example: last_name
                              type: string
                            givenName:
                              description: first_name of the SCIM User.
                              example: first_name
                              type: string
                          type: object
                        schemas:
                          description: schema of the resource
                          example:
                            - urn:ietf:params:scim:schemas:core:2.0:User
                            - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                            - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                          items:
                            enum:
                              - urn:ietf:params:scim:schemas:core:2.0:User
                              - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                              - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                            type: string
                          type: array
                        urn:ietf:params:scim:schemas:extension:enterprise:2.0:User:
                          properties:
                            department:
                              description: Optional - Department
                              example: Eng
                              type: string
                          type: object
                        urn:ietf:params:scim:schemas:extension:tenant:2.0:User:
                          properties:
                            customKey:
                              description: Optional - custom attribute 1
                              example: CustomVal
                              type: string
                          type: object
                        userName:
                          description: UPN name of the SCIM User
                          example: upn1
                          type: string
                      type: object
                    type: array
                  itemsPerPage:
                    example: 1
                    type: integer
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:ListResponse
                    items:
                      type: string
                    type: array
                  startIndex:
                    example: 1
                    type: integer
                  totalResults:
                    example: 1
                    type: integer
                type: object
          description: Successfully added/overwritten the User.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example: Invalid request
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Get Scim Users
      tags:
        - scim_users
    post:
      description: Creation of a SCIM User.
      requestBody:
        content:
          application/scim+json;charset=utf-8:
            schema:
              description: user request body
              properties:
                active:
                  example: "true"
                  type: boolean
                emails:
                  items:
                    properties:
                      primary:
                        example: "true"
                        type: boolean
                      value:
                        description: Email ID of the SCIM user
                        example: email1@netskope.local
                        pattern: ^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$
                        type: string
                    type: object
                  type: array
                externalId:
                  description: Optional - Scim External ID
                  example: User-Ext_id
                  type: string
                meta:
                  description: meta information
                  example:
                    resourceType: User
                  properties:
                    resourceType:
                      description: resource type User/Group.
                      example: User
                      type: string
                  type: object
                name:
                  description: Family_name and given_name for the User
                  properties:
                    familyName:
                      description: last_name of the SCIM User.
                      example: last_name
                      type: string
                    givenName:
                      description: first_name of the SCIM User.
                      example: first_name
                      type: string
                  type: object
                schemas:
                  description: schema of the resource
                  example:
                    - urn:ietf:params:scim:schemas:core:2.0:User
                    - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                    - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                  items:
                    enum:
                      - urn:ietf:params:scim:schemas:core:2.0:User
                      - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                      - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                      - urn:ietf:params:scim:schemas:extension:netskope:2.0:User
                    type: string
                  type: array
                userName:
                  description: UPN name of the SCIM User
                  example: upn1
                  type: string
              type: object
        description: user to add
      responses:
        "201":
          content:
            application/scim+json;charset=utf-8:
              schema:
                properties:
                  active:
                    example: "true"
                    type: boolean
                  emails:
                    items:
                      properties:
                        primary:
                          example: "true"
                          type: boolean
                        value:
                          description: Email ID of the SCIM user
                          example: email1@netskope.local
                          pattern: ^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$
                          type: string
                      type: object
                    type: array
                  externalId:
                    description: Optional - Scim External ID
                    example: User-Ext_id
                    type: string
                  id:
                    description: SCIM User ID
                    example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                    type: string
                  name:
                    description: Family_name and given_name for the User
                    properties:
                      familyName:
                        description: last_name of the SCIM User.
                        example: last_name
                        type: string
                      givenName:
                        description: first_name of the SCIM User.
                        example: first_name
                        type: string
                    type: object
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:schemas:core:2.0:User
                      - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                      - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                    items:
                      enum:
                        - urn:ietf:params:scim:schemas:core:2.0:User
                        - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                        - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                      type: string
                    type: array
                  status:
                    enum:
                      - 201
                      - 200
                    example: 201
                    type: integer
                  urn:ietf:params:scim:schemas:extension:enterprise:2.0:User:
                    properties:
                      department:
                        description: Optional - Department
                        example: Eng
                        type: string
                    type: object
                  urn:ietf:params:scim:schemas:extension:tenant:2.0:User:
                    properties:
                      customKey:
                        description: Optional - custom attribute 1
                        example: CustomVal
                        type: string
                    type: object
                  userName:
                    description: UPN name of the SCIM User
                    example: upn1
                    type: string
                type: object
          description: Successfully added the User.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example:
                      Invalid request / Primary Email not provided / UserName
                      not provided / Not a valid json format / Mandatory fields are
                      missing
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal server error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Creation of a SCIM User
      tags:
        - scim_users
    x-netskope-params:
      apiGroup: scim-apis
      customerFacing: true
      serviceConfig: nsscimserver
      version: 2
  /scim/Users/{id}:
    delete:
      description: Delete SCIM User record by {id}.
      parameters:
        - description: SCIM User ID required
          in: path
          name: id
          required: true
          schema:
            example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
            type: string
      responses:
        "204":
          description: Empty response, Successfully deleted the User.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example: Invalid request
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Delete SCIM User record by {id}
      tags:
        - scim_users
    get:
      description: Getting the user with specific id..
      parameters:
        - description: SCIM Used ID should be specified
          in: path
          name: id
          required: true
          schema:
            example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
            type: string
      responses:
        "200":
          content:
            application/scim+json;charset=utf-8:
              schema:
                properties:
                  active:
                    example: "true"
                    type: boolean
                  emails:
                    items:
                      properties:
                        primary:
                          example: "true"
                          type: boolean
                        value:
                          description: Email ID of the SCIM user
                          example: email1@netskope.local
                          pattern: ^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$
                          type: string
                      type: object
                    type: array
                  externalId:
                    description: Optional - Scim External ID
                    example: User-Ext_id
                    type: string
                  id:
                    description: SCIM User ID
                    example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                    type: string
                  meta:
                    description: meta information
                    example:
                      resourceType: User
                    properties:
                      resourceType:
                        description: resource type User/Group.
                        example: User
                        type: string
                    type: object
                  name:
                    description: Family_name and given_name for the User
                    properties:
                      familyName:
                        description: last_name of the SCIM User.
                        example: last_name
                        type: string
                      givenName:
                        description: first_name of the SCIM User.
                        example: first_name
                        type: string
                    type: object
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:schemas:core:2.0:User
                      - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                      - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                    items:
                      enum:
                        - urn:ietf:params:scim:schemas:core:2.0:User
                        - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                        - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                      type: string
                    type: array
                  urn:ietf:params:scim:schemas:extension:enterprise:2.0:User:
                    properties:
                      department:
                        description: Optional - Department
                        example: Eng
                        type: string
                    type: object
                  urn:ietf:params:scim:schemas:extension:tenant:2.0:User:
                    properties:
                      customKey:
                        description: Optional - custom attribute 1
                        example: CustomVal
                        type: string
                    type: object
                  userName:
                    description: UPN name of the SCIM User
                    example: upn1
                    type: string
                type: object
          description: Successfully deleted the User.
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Get the Scim User
      tags:
        - scim_users
    patch:
      description: Update existing SCIM User record by {id}
      parameters:
        - description: SCIM User ID should be specified
          in: path
          name: id
          required: true
          schema:
            example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
            type: string
      requestBody:
        content:
          application/scim+json;charset=utf-8:
            schema:
              description: attribute to be modified.
              properties:
                Operations:
                  items:
                    properties:
                      op:
                        enum:
                          - add
                          - remove
                          - replace
                        example: add
                        type: string
                      path:
                        enum:
                          - userName
                          - name.givenname
                          - name.familyname
                          - externalid
                          - emails[type eq "work"].value
                        example: userName
                        type: string
                      value:
                        description: value either string or object
                        example:
                          value: new_upn
                        oneOf:
                          - type: string
                          - type: object
                    type: object
                  type: array
                schemas:
                  description: schema of the resource
                  example:
                    - urn:ietf:params:scim:api:messages:2.0:PatchOp
                  items:
                    enum:
                      - urn:ietf:params:scim:api:messages:2.0:PatchOp
                    type: string
                  type: array
              type: object
        description: attributes to be modified.
      responses:
        "204":
          description: Empty response.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example:
                      Invalid request / Primary Email not provided / UserName
                      not provided / Not a valid json format / Mandatory fields are
                      missing
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Update existing SCIM User record by {id}
      tags:
        - scim_users
    put:
      description: Replace existing SCIM record for {id}
      parameters:
        - description: SCIM User ID should be specified
          in: path
          name: id
          required: true
          schema:
            example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
            type: string
      requestBody:
        content:
          application/scim+json;charset=utf-8:
            schema:
              description: User object
              properties:
                active:
                  example: "true"
                  type: boolean
                emails:
                  items:
                    properties:
                      primary:
                        example: "true"
                        type: boolean
                      value:
                        description: Email ID of the SCIM user
                        example: email1@netskope.local
                        pattern: ^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$
                        type: string
                    type: object
                  type: array
                externalId:
                  description: Optional - Scim External ID
                  example: User-Ext_id
                  type: string
                meta:
                  description: meta information
                  example:
                    resourceType: User
                  properties:
                    resourceType:
                      description: resource type User/Group.
                      example: User
                      type: string
                  type: object
                name:
                  description: Family_name and given_name for the User
                  properties:
                    familyName:
                      description: last_name of the SCIM User.
                      example: last_name
                      type: string
                    givenName:
                      description: first_name of the SCIM User.
                      example: first_name
                      type: string
                  type: object
                schemas:
                  description: schema of the resource
                  example:
                    - urn:ietf:params:scim:schemas:core:2.0:User
                    - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                    - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                  items:
                    enum:
                      - urn:ietf:params:scim:schemas:core:2.0:User
                      - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                      - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                    type: string
                  type: array
                urn:ietf:params:scim:schemas:extension:enterprise:2.0:User:
                  properties:
                    department:
                      description: Optional - Department
                      example: Eng
                      type: string
                  type: object
                urn:ietf:params:scim:schemas:extension:tenant:2.0:User:
                  properties:
                    customKey:
                      description: Optional - custom attribute 1
                      example: CustomVal
                      type: string
                  type: object
                userName:
                  description: UPN name of the SCIM User
                  example: upn1
                  type: string
              type: object
        description: user to update
      responses:
        "200":
          content:
            application/scim+json;charset=utf-8:
              schema:
                properties:
                  active:
                    example: "true"
                    type: boolean
                  emails:
                    items:
                      properties:
                        primary:
                          example: "true"
                          type: boolean
                        value:
                          description: Email ID of the SCIM user
                          example: email1@netskope.local
                          pattern: ^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$
                          type: string
                      type: object
                    type: array
                  externalId:
                    description: Optional - Scim External ID
                    example: User-Ext_id
                    type: string
                  id:
                    description: SCIM User ID
                    example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                    type: string
                  name:
                    description: Family_name and given_name for the User
                    properties:
                      familyName:
                        description: last_name of the SCIM User.
                        example: last_name
                        type: string
                      givenName:
                        description: first_name of the SCIM User.
                        example: first_name
                        type: string
                    type: object
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:schemas:core:2.0:User
                      - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                      - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                    items:
                      enum:
                        - urn:ietf:params:scim:schemas:core:2.0:User
                        - urn:ietf:params:scim:schemas:extension:enterprise:2.0:User
                        - urn:ietf:params:scim:schemas:extension:tenant:2.0:User
                      type: string
                    type: array
                  status:
                    enum:
                      - 200
                    example: 200
                    type: integer
                  urn:ietf:params:scim:schemas:extension:enterprise:2.0:User:
                    properties:
                      department:
                        description: Optional - Department
                        example: Eng
                        type: string
                    type: object
                  urn:ietf:params:scim:schemas:extension:tenant:2.0:User:
                    properties:
                      customKey:
                        description: Optional - custom attribute 1
                        example: CustomVal
                        type: string
                    type: object
                  userName:
                    description: UPN name of the SCIM User
                    example: upn1
                    type: string
                type: object
          description: Successfully updated the User.
        "400":
          content:
            application/json:
              schema:
                properties:
                  description:
                    example:
                      Invalid request / Primary Email not provided / UserName
                      not provided / Not a valid json format / Mandatory fields are
                      missing
                    type: string
                  schemas:
                    description: schema of the resource
                    example:
                      - urn:ietf:params:scim:api:messages:2.0:Error
                    items:
                      type: string
                    type: array
                  status:
                    enum:
                      - "400"
                      - failed
                    example: "400"
                    type: string
                type: object
          description: "Failed "
        "403":
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: You cannot consume this service.
                    type: string
                type: object
          description: Not authorized to execte the specific API.
        "501":
          content:
            application/json:
              schema:
                properties:
                  detail:
                    example: Internal error.
                    type: string
                  schemas:
                    example: '["urn:ietf:params:scim:api:messages:2.0:Error"]'
                    type: string
                  status:
                    enum:
                      - failed
                      - "501"
                    example: 501/failed
                    type: string
                type: object
          description: Internal error Failed
      summary: Replace existing SCIM record for {id}
      tags:
        - scim_users
    x-netskope-params:
      apiGroup: scim-apis
      customerFacing: true
      serviceConfig: nsscimserver
      version: 2
tags:
  - description: CRUD for SCIM Users Infrormation.
    name: scim_users
  - description: CRUD for SCIM Groups Infrormation
    name: scim_groups
