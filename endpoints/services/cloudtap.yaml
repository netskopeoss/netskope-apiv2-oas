components:
  schemas:
    cloudtap.AWSPlain:
      properties:
        bucket:
          example: cloudtap-bucket
          type: string
        region:
          example: us-east-1
          type: string
      type: object
    cloudtap.AWSPlainSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.AWSPlain"
        key:
          $ref: "#/components/schemas/cloudtap.AWSPlain"
      type: object
    cloudtap.AzurePlain:
      properties:
        storage_account:
          example: azure-bucket-name
          type: string
      type: object
    cloudtap.AzurePlainSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.AzurePlain"
        key:
          $ref: "#/components/schemas/cloudtap.AzurePlain"
      type: object
    cloudtap.CloudTapSettings:
      properties:
        enabled:
          example: true
          type: boolean
        filters:
          $ref: "#/components/schemas/cloudtap.Filters"
        storage:
          $ref: "#/components/schemas/cloudtap.StoragePlains"
      type: object
    cloudtap.Filters:
      properties:
        client:
          example: true
          type: boolean
        dest_network_locations:
          example:
            - "23"
            - "24"
            - "25"
          items:
            type: string
          type: array
        gre_tunnels:
          example:
            - "1"
            - "2"
            - "3"
          items:
            type: string
          type: array
        ip_version:
          example: 4
          type: integer
        ipsec_tunnels:
          example:
            - "4"
            - "5"
          items:
            type: string
          type: array
        pops:
          example:
            - "1001"
            - "1002"
          items:
            type: string
          type: array
        protocols:
          items:
            $ref: "#/components/schemas/cloudtap.Protocol"
          type: array
        src_network_locations:
          example:
            - "20"
            - "21"
            - "22"
          items:
            type: string
          type: array
        users:
          example:
            - user1@example.com
            - user2@example.com
          items:
            type: string
          type: array
      type: object
    cloudtap.GCPPlain:
      properties:
        bucket:
          example: cloudtap-bucket
          type: string
      type: object
    cloudtap.GCPPlainSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.GCPPlain"
        key:
          $ref: "#/components/schemas/cloudtap.GCPPlain"
      type: object
    cloudtap.PatchAWS:
      properties:
        bucket:
          example: cloudtap-bucket
          type: string
        credentials:
          $ref: "#/components/schemas/cloudtap.PatchAWSCredential"
        region:
          example: us-east-1
          type: string
      type: object
    cloudtap.PatchAWSCredential:
      properties:
        access_key_id:
          example: aws-access-key-id
          type: string
        secret_access_key:
          example: aws-secret-access-key
          type: string
      required:
        - access_key_id
        - secret_access_key
      type: object
    cloudtap.PatchAWSCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PatchAWS"
        key:
          $ref: "#/components/schemas/cloudtap.PatchAWS"
      required:
        - data
        - key
      type: object
    cloudtap.PatchAzure:
      properties:
        credentials:
          $ref: "#/components/schemas/cloudtap.PatchAzureCredential"
        storage_account:
          example: azure-bucket-name
          type: string
      type: object
    cloudtap.PatchAzureCredential:
      properties:
        access_key:
          example: azure-access-key
          type: string
      required:
        - access_key
      type: object
    cloudtap.PatchAzureCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PatchAzure"
        key:
          $ref: "#/components/schemas/cloudtap.PatchAzure"
      required:
        - data
        - key
      type: object
    cloudtap.PatchCloudTapPayload:
      properties:
        enabled:
          example: true
          type: boolean
        filters:
          $ref: "#/components/schemas/cloudtap.PatchFilters"
        storage:
          $ref: "#/components/schemas/cloudtap.PatchStorageCredentials"
      type: object
    cloudtap.PatchFilters:
      properties:
        client:
          example: true
          type: boolean
        dest_network_locations:
          example:
            - "23"
            - "24"
            - "25"
          items:
            type: string
          type: array
        gre_tunnels:
          example:
            - "1"
            - "2"
            - "3"
          items:
            type: string
          type: array
        ip_version:
          example: 4
          type: integer
        ipsec_tunnels:
          example:
            - "4"
            - "5"
          items:
            type: string
          type: array
        pops:
          example:
            - "1001"
            - "1002"
          items:
            type: string
          type: array
        protocols:
          items:
            $ref: "#/components/schemas/cloudtap.Protocol"
          type: array
        src_network_locations:
          example:
            - "20"
            - "21"
            - "22"
          items:
            type: string
          type: array
        users:
          example:
            - user1@example.com
            - user2@example.com
          items:
            type: string
          type: array
      type: object
    cloudtap.PatchGCP:
      properties:
        bucket:
          example: cloudtap-bucket
          type: string
        credentials:
          example: gcp-credentials
          type: string
      type: object
    cloudtap.PatchGCPCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PatchGCP"
        key:
          $ref: "#/components/schemas/cloudtap.PatchGCP"
      required:
        - data
        - key
      type: object
    cloudtap.PatchStorageCredentials:
      properties:
        aws:
          $ref: "#/components/schemas/cloudtap.PatchAWSCredentialSettings"
        azure:
          $ref: "#/components/schemas/cloudtap.PatchAzureCredentialSettings"
        gcp:
          $ref: "#/components/schemas/cloudtap.PatchGCPCredentialSettings"
        provider:
          enum:
            - aws
            - gcp
            - azure
          example: aws
          type: string
      type: object
    cloudtap.PostAWS:
      properties:
        bucket:
          example: cloudtap-bucket
          type: string
        credentials:
          $ref: "#/components/schemas/cloudtap.PostAWSCredential"
        region:
          example: us-east-1
          type: string
      required:
        - bucket
        - credentials
        - region
      type: object
    cloudtap.PostAWSCredential:
      properties:
        access_key_id:
          example: aws-access-key-id
          type: string
        secret_access_key:
          example: aws-secret-access-key
          type: string
      required:
        - access_key_id
        - secret_access_key
      type: object
    cloudtap.PostAWSCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PostAWS"
        key:
          $ref: "#/components/schemas/cloudtap.PostAWS"
      required:
        - data
        - key
      type: object
    cloudtap.PostAzure:
      properties:
        credentials:
          $ref: "#/components/schemas/cloudtap.PostAzureCredential"
        storage_account:
          example: azure-bucket-name
          type: string
      required:
        - credentials
        - storage_account
      type: object
    cloudtap.PostAzureCredential:
      properties:
        access_key:
          example: azure-access-key
          type: string
      required:
        - access_key
      type: object
    cloudtap.PostAzureCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PostAzure"
        key:
          $ref: "#/components/schemas/cloudtap.PostAzure"
      required:
        - data
        - key
      type: object
    cloudtap.PostCloudTapPayload:
      properties:
        enabled:
          example: true
          type: boolean
        filters:
          $ref: "#/components/schemas/cloudtap.PostFilters"
        storage:
          $ref: "#/components/schemas/cloudtap.PostStorageCredentials"
      required:
        - enabled
        - filters
        - storage
      type: object
    cloudtap.PostFilters:
      properties:
        client:
          example: true
          type: boolean
        dest_network_locations:
          example:
            - "23"
            - "24"
            - "25"
          items:
            type: string
          type: array
        gre_tunnels:
          example:
            - "1"
            - "2"
            - "3"
          items:
            type: string
          type: array
        ip_version:
          example: 4
          type: integer
        ipsec_tunnels:
          example:
            - "4"
            - "5"
          items:
            type: string
          type: array
        pops:
          example:
            - "1001"
            - "1002"
          items:
            type: string
          type: array
        protocols:
          items:
            $ref: "#/components/schemas/cloudtap.Protocol"
          type: array
        src_network_locations:
          example:
            - "20"
            - "21"
            - "22"
          items:
            type: string
          type: array
        users:
          example:
            - user1@example.com
            - user2@example.com
          items:
            type: string
          type: array
      required:
        - client
        - dest_network_locations
        - gre_tunnels
        - ip_version
        - ipsec_tunnels
        - pops
        - protocols
        - src_network_locations
        - users
      type: object
    cloudtap.PostGCP:
      properties:
        bucket:
          example: cloudtap-bucket
          type: string
        credentials:
          example: gcp-credentials
          type: string
      required:
        - bucket
        - credentials
      type: object
    cloudtap.PostGCPCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PostGCP"
        key:
          $ref: "#/components/schemas/cloudtap.PostGCP"
      required:
        - data
        - key
      type: object
    cloudtap.PostStorageCredentials:
      properties:
        aws:
          $ref: "#/components/schemas/cloudtap.PostAWSCredentialSettings"
        azure:
          $ref: "#/components/schemas/cloudtap.PostAzureCredentialSettings"
        gcp:
          $ref: "#/components/schemas/cloudtap.PostGCPCredentialSettings"
        provider:
          enum:
            - aws
            - gcp
            - azure
          example: aws
          type: string
      required:
        - aws
        - azure
        - gcp
        - provider
      type: object
    cloudtap.Protocol:
      properties:
        id:
          example: 6
          type: integer
        ports:
          example:
            - "8080"
          items:
            type: string
          type: array
      required:
        - id
        - ports
      type: object
    cloudtap.PutAWS:
      properties:
        bucket:
          example: cloudtap-bucket
          type: string
        credentials:
          $ref: "#/components/schemas/cloudtap.PutAWSCredential"
        region:
          example: us-east-1
          type: string
      required:
        - bucket
        - credentials
        - region
      type: object
    cloudtap.PutAWSCredential:
      properties:
        access_key_id:
          example: aws-access-key-id
          type: string
        secret_access_key:
          example: aws-secret-access-key
          type: string
      required:
        - access_key_id
        - secret_access_key
      type: object
    cloudtap.PutAWSCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PutAWS"
        key:
          $ref: "#/components/schemas/cloudtap.PutAWS"
      required:
        - data
        - key
      type: object
    cloudtap.PutAzure:
      properties:
        credentials:
          $ref: "#/components/schemas/cloudtap.PutAzureCredential"
        storage_account:
          example: azure-bucket-name
          type: string
      required:
        - credentials
        - storage_account
      type: object
    cloudtap.PutAzureCredential:
      properties:
        access_key:
          example: azure-access-key
          type: string
      required:
        - access_key
      type: object
    cloudtap.PutAzureCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PutAzure"
        key:
          $ref: "#/components/schemas/cloudtap.PutAzure"
      required:
        - data
        - key
      type: object
    cloudtap.PutCloudTapPayload:
      properties:
        enabled:
          example: true
          type: boolean
        filters:
          $ref: "#/components/schemas/cloudtap.PutFilters"
        storage:
          $ref: "#/components/schemas/cloudtap.PutStorageCredentials"
      required:
        - enabled
        - filters
        - storage
      type: object
    cloudtap.PutFilters:
      properties:
        client:
          example: true
          type: boolean
        dest_network_locations:
          example:
            - "23"
            - "24"
            - "25"
          items:
            type: string
          type: array
        gre_tunnels:
          example:
            - "1"
            - "2"
            - "3"
          items:
            type: string
          type: array
        ip_version:
          example: 4
          type: integer
        ipsec_tunnels:
          example:
            - "4"
            - "5"
          items:
            type: string
          type: array
        pops:
          example:
            - "1001"
            - "1002"
          items:
            type: string
          type: array
        protocols:
          items:
            $ref: "#/components/schemas/cloudtap.Protocol"
          type: array
        src_network_locations:
          example:
            - "20"
            - "21"
            - "22"
          items:
            type: string
          type: array
        users:
          example:
            - user1@example.com
            - user2@example.com
          items:
            type: string
          type: array
      required:
        - client
        - dest_network_locations
        - gre_tunnels
        - ip_version
        - ipsec_tunnels
        - pops
        - protocols
        - src_network_locations
        - users
      type: object
    cloudtap.PutGCP:
      properties:
        bucket:
          example: cloudtap-bucket
          type: string
        credentials:
          example: gcp-credentials
          type: string
      required:
        - bucket
        - credentials
      type: object
    cloudtap.PutGCPCredentialSettings:
      properties:
        data:
          $ref: "#/components/schemas/cloudtap.PutGCP"
        key:
          $ref: "#/components/schemas/cloudtap.PutGCP"
      required:
        - data
        - key
      type: object
    cloudtap.PutStorageCredentials:
      properties:
        aws:
          $ref: "#/components/schemas/cloudtap.PutAWSCredentialSettings"
        azure:
          $ref: "#/components/schemas/cloudtap.PutAzureCredentialSettings"
        gcp:
          $ref: "#/components/schemas/cloudtap.PutGCPCredentialSettings"
        provider:
          enum:
            - aws
            - gcp
            - azure
          example: aws
          type: string
      required:
        - aws
        - azure
        - gcp
        - provider
      type: object
    cloudtap.StoragePlains:
      properties:
        aws:
          $ref: "#/components/schemas/cloudtap.AWSPlainSettings"
        azure:
          $ref: "#/components/schemas/cloudtap.AzurePlainSettings"
        gcp:
          $ref: "#/components/schemas/cloudtap.GCPPlainSettings"
        provider:
          enum:
            - aws
            - gcp
            - azure
          example: aws
          type: string
      type: object
    cloudtap.usage.TotalResponse:
      properties:
        used_mega_bytes:
          type: integer
          description: this is a round-up integer value
          example: 1376
        start_time:
          type: integer
          example: 1704067200
        end_time:
          type: integer
          example: 1704240000
      type: object
    cloudtap.usage.IntervalUsage:
      type: object
      properties:
        start_time:
          type: integer
          example: 1704067200
        used_mega_bytes:
          type: number
          example: 3
    cloudtap.usage.IntervalResponse:
      properties:
        elements:
          items:
            $ref: "#/components/schemas/cloudtap.usage.IntervalUsage"
          example:
            - start_time: 1704067200
              used_mega_bytes: 0
            - start_time: 1704153600
              used_mega_bytes: 0
            - start_time: 1704240000
              used_mega_bytes: 32
            - start_time: 1704326400
              used_mega_bytes: 41
            - start_time: 1704412800
              used_mega_bytes: 17
          type: array
        start_time:
          type: integer
          example: 1704067200
        end_time:
          type: integer
          example: 1704412800
      type: object
    ginhelper.Error:
      properties:
        datetime:
          description: date time
          example: "2022-08-31T11:14:23.000Z"
          type: string
        err_code:
          description: error code definition
          example: "310101"
          type: string
        message:
          description: error message
          example: some error happened
          type: string
        trace_id:
          description: trace ID
          example: 547c581b-b779-4770-8b73-aeece0742252
          type: string
      type: object
info:
  contact: {}
  description: ""
  title: Netskope CloudTap Backend Endpoints
  version: "1.0"
openapi: 3.0.1
paths:
  /services/cloudtap:
    delete:
      description: Delete CloudTap related settings
      responses:
        "200":
          content: {}
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Invalid header
        "403":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description:
            This is a licensed feature, please contact Netskope support
            for enablement
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Given ID is not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Error occurrence
      summary: Delete CloudTap settings
      tags:
        - cloudtap
    get:
      description:
        Get CloudTap related settings including cloud provider configurations
        and filters
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/cloudtap.CloudTapSettings"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Invalid header
        "403":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description:
            This is a licensed feature, please contact Netskope support
            for enablement
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Given ID is not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Error occurrence
      summary: Get CloudTap settings
      tags:
        - cloudtap
    patch:
      description:
        Partial update CloudTap related settings including cloud provider
        configurations and filters
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/cloudtap.PatchCloudTapPayload"
        description: PatchCloudTapPayload
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/cloudtap.CloudTapSettings"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Invalid header
        "403":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description:
            This is a licensed feature, please contact Netskope support
            for enablement
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Given ID is not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Error occurrence
      summary: Partial update CloudTap settings
      tags:
        - cloudtap
      x-codegen-request-body-name: request_body
    post:
      description:
        Create CloudTap related settings including cloud provider configurations
        and filters
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/cloudtap.PostCloudTapPayload"
        description: PostCloudTapPayload
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/cloudtap.CloudTapSettings"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Invalid header
        "403":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description:
            This is a licensed feature, please contact Netskope support
            for enablement
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Error occurrence
      summary: Create CloudTap settings
      tags:
        - cloudtap
      x-codegen-request-body-name: request_body
    put:
      description:
        Update CloudTap related settings including cloud provider configurations
        and filters
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/cloudtap.PutCloudTapPayload"
        description: PutCloudTapPayload
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/cloudtap.CloudTapSettings"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Invalid header
        "403":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description:
            This is a licensed feature, please contact Netskope support
            for enablement
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
          description: Error occurrence
      summary: Update CloudTap settings
      tags:
        - cloudtap
      x-codegen-request-body-name: request_body
    x-netskope-params:
      apiGroup: cloudtap
      customerFacing: false
      serviceConfig: swg-api-service
      version: 2
  /services/cloudtap/usage/sum:
    get:
      description: >-
        Get Cloudtap data transfer usage amount for the tenant, within an
        interval of dates, and accumulates the result
      parameters:
        - description: >
            The start date (included) (ISO-8601, yyyy-MM-dd, in UTC) of the
            query interval. The `[start date, end date]` interval should not be
            over 24 months.
          explode: false
          in: query
          name: start_date
          required: true
          example: "2024-01-01"
          schema:
            type: string
        - description: >
            The end date (included) (ISO-8601, yyyy-MM-dd, in UTC) of the query
            interval. The end date should not be beyond `the date of today`.
          explode: false
          in: query
          name: end_date
          example: "2024-01-03"
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/cloudtap.usage.TotalResponse"
          description: successful operation
        "403":
          description: >-
            This is a licensed feature, please contact Netskope support for
            enablement
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
        "500":
          description: Internal error occurrence
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
      summary: >-
        Get Cloudtap data transfer usage amount for the tenant, within an
        interval of dates, and accumulates the result
      tags:
        - cloudtap usage
    x-netskope-params:
      apiGroup: cloudtap
      customerFacing: false
      serviceConfig: swg-api-service
      version: 2
  /services/cloudtap/usage:
    get:
      description: >-
        Get Cloudtap data transfer usage amount for the tenant, within an
        interval of dates, and accumulates the result into chunks
      parameters:
        - description: >
            The start date (included) (ISO-8601, yyyy-MM-dd, in UTC) of the
            query interval. The `[start date, end date]` interval should not be
            over 24 months.
          explode: false
          in: query
          name: start_date
          required: true
          example: "2024-01-01"
          schema:
            type: string
        - description: >
            The end date (included) (ISO-8601, yyyy-MM-dd, in UTC) of the query
            interval. The end date should not be beyond `the date of today`.
          explode: false
          in: query
          name: end_date
          example: "2024-01-03"
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/cloudtap.usage.IntervalResponse"
          description: successful operation
        "403":
          description: >-
            This is a licensed feature, please contact Netskope support for
            enablement
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
        "500":
          description: Internal error occurrence
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ginhelper.Error"
      summary: >-
        Get Cloudtap data transfer usage amount for the tenant, within an
        interval of dates, and accumulates the result into chunks
      tags:
        - cloudtap usage
    x-netskope-params:
      apiGroup: cloudtap
      customerFacing: false
      serviceConfig: swg-api-service
      version: 2
servers:
  - url: /
tags:
  - name: cloudtap
